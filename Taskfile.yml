version: '2'

tasks:
  flux-sync:
    desc: Force cluster to run flux
    silent: true
    cmds:
      - fluxctl --k8s-fwd-ns=system-flux --k8s-fwd-labels="app=flux,release=flux" sync

  generate-sealed-secrets:
    desc: Generate sealed-secrets from secrets
    silent: true
    cmds:
      - ./.github/scripts/generate_sealedsecrets.sh

  lint-scripts:
    desc: Lint all script files in the repo
    silent: true
    cmds:
      - ./.github/scripts/lint_scripts.sh

  lint-yaml:
    desc: Lint all yaml files in the repo
    silent: true
    cmds:
      - ./.github/scripts/lint_yaml.sh
