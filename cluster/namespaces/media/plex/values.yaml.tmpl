---
podSecurityContext:
  supplementalGroups:
  - 44
  - 109
  - 65539

env:
  TZ: "Europe/Amsterdam"
  ADVERTISE_IP: "http://10.1.10.9:32400"

service:
  type: LoadBalancer
  externalIPs:
  - 10.1.10.9
  externalTrafficPolicy: Local

ingress:
  enabled: false

persistence:
  config:
    enabled: true
    existingClaim: plex-config

  transcode:
    enabled: false

additionalVolumes:
- name: nfs-nas-media
  persistentVolumeClaim:
    claimName: nfs-nas-media

additionalVolumeMounts:
- name: nfs-nas-media
  mountPath: /storage/media
  readOnly: true

resources:
  requests:
    cpu: 35m
    memory: 1500Mi
    gpu.intel.com/i915: 1
  limits:
    gpu.intel.com/i915: 1
    memory: 8000Mi

affinity:
  nodeAffinity:
    requiredDuringSchedulingIgnoredDuringExecution:
      nodeSelectorTerms:
        - matchExpressions:
            - key: feature.node.kubernetes.io/custom-intel-gpu
              operator: In
              values:
                - "true"
