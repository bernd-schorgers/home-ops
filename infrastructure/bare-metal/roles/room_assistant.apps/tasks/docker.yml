---
- name: Install Pip
  ansible.builtin.import_role:
    name: geerlingguy.pip
  become: true

- name: Install Docker
  vars:
    docker_users:
      - "{{ ansible_user }}"
  become: true
  block:
    - name: Install Docker on ARM nodes
      ansible.builtin.import_role:
        name: geerlingguy.docker_arm
      when: ansible_architecture == 'armv6l'

    - name: Install Docker on non-ARM nodes
      ansible.builtin.import_role:
        name: geerlingguy.docker
      when: ansible_architecture != 'armv6l'
