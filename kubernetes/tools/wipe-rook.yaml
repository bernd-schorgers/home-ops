---
apiVersion: v1
kind: Pod
metadata:
  name: disk-wipe-delta
spec:
  restartPolicy: Never
  nodeName: delta
  containers:
    - name: disk-wipe
      image: ghcr.io/onedr0p/alpine:3.17.0@sha256:8e1eb13c3ca5c038f3bf22a5fe9e354867f97f98a78027c44b7c76fce81fa61d
      securityContext:
        privileged: true
      resources: {}
      env:
        - name: CEPH_DISK
          value: /dev/nvme0n1
      command:
        [
          "/bin/sh",
          "-c",
          "apk add --no-cache sgdisk util-linux parted",
          "sgdisk --zap-all $CEPH_DISK",
          "blkdiscard $CEPH_DISK",
          "partprobe $CEPH_DISK"
        ]
---
apiVersion: v1
kind: Pod
metadata:
  name: disk-wipe-enigma
spec:
  restartPolicy: Never
  nodeName: enigma
  containers:
    - name: disk-wipe
      image: ghcr.io/onedr0p/alpine:3.17.0@sha256:8e1eb13c3ca5c038f3bf22a5fe9e354867f97f98a78027c44b7c76fce81fa61d
      securityContext:
        privileged: true
      resources: {}
      env:
        - name: CEPH_DISK
          value: /dev/nvme0n1
      command:
        [
          "/bin/sh",
          "-c",
          "apk add --no-cache sgdisk util-linux parted",
          "sgdisk --zap-all $CEPH_DISK",
          "blkdiscard $CEPH_DISK",
          "partprobe $CEPH_DISK"
        ]
---
apiVersion: v1
kind: Pod
metadata:
  name: disk-wipe-felix
spec:
  restartPolicy: Never
  nodeName: felix
  containers:
    - name: disk-wipe
      image: ghcr.io/onedr0p/alpine:3.17.0@sha256:8e1eb13c3ca5c038f3bf22a5fe9e354867f97f98a78027c44b7c76fce81fa61d
      securityContext:
        privileged: true
      resources: {}
      env:
        - name: CEPH_DISK
          value: /dev/nvme0n1
      command:
        [
          "/bin/sh",
          "-c",
          "apk add --no-cache sgdisk util-linux parted",
          "sgdisk --zap-all $CEPH_DISK",
          "blkdiscard $CEPH_DISK",
          "partprobe $CEPH_DISK"
        ]
