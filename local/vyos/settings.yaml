---
# Variables referring to "{secrets}" come from secrets.sops.yaml

config:
  hostname: "gateway"
  domain_name: "${secrets.domain_name}"
  fqdn: "gateway.${secrets.domain_name}"
  upstream_name_server: "1.1.1.1"
  time_zone: "Europe/Amsterdam"

  api:
    listen_address: "0.0.0.0"
    port: 8443
    keys:
      terraform:
        ${secrets.api.key}

  ssh:
    user: ${secrets.ssh.user}
    port: 22
    disable_password_login: true
    keys:
      - name: personal
        type: ssh-ed25519
        key: ${secrets.ssh.keys.personal}

  containers:
    coredns:
      # renovate: docker-image
      image: ghcr.io/k8s-at-home/coredns:v1.9.2

networks:
  lan: "10.1.0.0/24"
  servers: "10.1.1.0/24"
  trusted: "10.1.2.0/24"
  guest: "192.168.2.0/24"
  iot: "10.1.3.0/24"
  video: "10.1.4.0/24"
  wg_trusted: "10.0.11.0/24"
  services: "10.5.0.0/24"
  rescue: "192.168.15.0/24"
